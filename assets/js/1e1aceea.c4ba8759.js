"use strict";(self.webpackChunkbrobridge_org_github_io=self.webpackChunkbrobridge_org_github_io||[]).push([[841],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>f});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),u=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=u(a),m=n,f=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return a?r.createElement(f,i(i({ref:t},l),{},{components:a})):r.createElement(f,i({ref:t},l))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:n,i[1]=s;for(var u=2;u<o;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5743:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=a(7462),n=(a(7294),a(3905));const o={sidebar_position:3},i="Data Product",s={unversionedId:"concept/data-product",id:"concept/data-product",title:"Data Product",description:"Data Product Attribute",source:"@site/docs/concept/data-product.md",sourceDirName:"concept",slug:"/concept/data-product",permalink:"/docs/next/concept/data-product",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept/data-product.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Gravity Architecture",permalink:"/docs/next/concept/gravity-architecture"},next:{title:"Components",permalink:"/docs/next/category/components"}},c={},u=[{value:"Data Product Attribute",id:"data-product-attribute",level:2},{value:"A fixed schema",id:"a-fixed-schema",level:3},{value:"Rules for processing schema values",id:"rules-for-processing-schema-values",level:3},{value:"Decoupling from the data source",id:"decoupling-from-the-data-source",level:3},{value:"Data Product Example",id:"data-product-example",level:2},{value:"Rules Example",id:"rules-example",level:2},{value:"Product Event",id:"product-event",level:2}],l={toc:u},d="wrapper";function p(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"data-product"},"Data Product"),(0,n.kt)("h2",{id:"data-product-attribute"},"Data Product Attribute"),(0,n.kt)("p",null,"In the context of Gravity, a Data Mesh implementation, the concept of a Data Product takes on the same key attributes:"),(0,n.kt)("h3",{id:"a-fixed-schema"},"A fixed schema"),(0,n.kt)("p",null,"Gravity relies on standardized formats like JSON or Protobuf to provide a consistent structure and organization for the data within a Data Product. This makes it easy for consumers to understand and use the data across different services and applications."),(0,n.kt)("h3",{id:"rules-for-processing-schema-values"},"Rules for processing schema values"),(0,n.kt)("p",null,"Gravity allows users to define rules for manipulating and processing the data based on the values within the schema. These rules enable tailored data transformations or aggregations to meet the specific needs of different consumers, ensuring that the data is fit for purpose and can be used effectively."),(0,n.kt)("h3",{id:"decoupling-from-the-data-source"},"Decoupling from the data source"),(0,n.kt)("p",null,"In Gravity's Data Mesh implementation, Data Products are designed to be consumed directly without the need to access the original data source. This allows consumers to read and use the values from the Data Product without querying the underlying data source, simplifying data access and enhancing performance."),(0,n.kt)("h2",{id:"data-product-example"},"Data Product Example"),(0,n.kt)("p",null,"In Gravity, registering a Data Product is a straightforward process that involves specifying the corresponding fields and data types in JSON format. Here's an example:\nSuppose you want to create a Data Product for storing user information. You would define the fields and data types as follows:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n    "id": { "type": "uint" },\n    "name": { "type": "string" },\n    "type": { "type": "string" },\n    "phone": { "type": "string" },\n    "address": { "type": "string" }\n}\n')),(0,n.kt)("h2",{id:"rules-example"},"Rules Example"),(0,n.kt)("p",null,"In Data Products, it is often necessary to transform the original data for various purposes, such as preserving domain privacy or performing additional precomputations. A simple JavaScript script can be used to easily accomplish this objective. It is important to note that a Data Product can have multiple rules to fulfill custom requirements for different consumers.\nHere is an example code snippet to illustrate data transformation in a Data Product:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"return {\n    id: source.id,\n    name: source.name,\n    type: source.type,\n    phone: source.phone,\n    address: source.address\n}\n")),(0,n.kt)("h2",{id:"product-event"},"Product Event"),(0,n.kt)("p",null,"The Product Event is a mechanism utilized by Gravity to record various operations performed on a Data Product. The detailed format is defined by the following Protobuf:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-protobuf"},'syntax = "proto3";\n\noption go_package = "github.com/BrobridgeOrg/gravity-sdk/types/product_event";\n\npackage gravity.sdk.types.product_event;\n\nenum Method {\n  INSERT = 0;\n  UPDATE = 1;\n  DELETE = 2;\n  TRUNCATE = 3;\n}\n\nmessage ProductEvent {\n  string eventName = 1;\n  string table = 2;\n  Method method = 3;\n  repeated string primaryKeys = 4;\n  bytes primaryKey = 5;\n  bytes data = 6;\n}\n')),(0,n.kt)("p",null,"In this schema:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Method is an enumeration that represents the type of operation: INSERT (0), UPDATE (1), DELETE (2), or TRUNCATE (3)."),(0,n.kt)("li",{parentName:"ul"},"ProductEvent is a message that represents a single event, with the following fields:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"eventName (string): the name of the event"),(0,n.kt)("li",{parentName:"ul"},"table (string): the table on which the operation was performed"),(0,n.kt)("li",{parentName:"ul"},"method (Method): the type of operation that was performed"),(0,n.kt)("li",{parentName:"ul"},"primaryKeys (repeated string): a list of primary keys for the data involved in the event"),(0,n.kt)("li",{parentName:"ul"},"primaryKey (bytes): the primary key of the operation, if there is only one"),(0,n.kt)("li",{parentName:"ul"},"data (bytes): the data involved in the operation, encoded as bytes")))))}p.isMDXComponent=!0}}]);